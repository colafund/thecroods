<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="forntEnd-Developer" content="Mamunur Rashid">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>The Croods Metaverse world</title>
	<!-- favicon -->
	<link rel="shortcut icon" href="assets/images/favicon.png" type="image/x-icon">
	<!-- bootstrap -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<!-- Plugin css -->
	<link rel="stylesheet" href="assets/css/plugin.css">

	<!-- stylesheet -->
	<link rel="stylesheet" href="assets/css/style.css">
	<!-- <link rel="stylesheet" href="/css/all.min.css">
	<link rel="stylesheet" href="style.css">
	<link href="css/style.css" rel="stylesheet"> -->
	<link href="https://fonts.loli.net/css?family=Fjalla+One" rel="stylesheet">
	<!-- responsive -->
	<link rel="stylesheet" href="assets/css/responsive.css">
	<link rel="stylesheet" href="assets/css/loading.css">
	<style>
		@media (min-width: 991px){
			.header .mainmenu-area .navbar .ph1{
				display: none;
			}
		}
		@media (max-width: 991px){
			.header .mainmenu-area .navbar .pc1{
				display: none;
			}
			.header .mainmenu-area .navbar .navbar-brand img {
    max-width: 120px;
}
		}

		@media (max-width: 380px){
			.header .mainmenu-area .navbar .navbar-brand img {
    max-width: 90px;
}
.header .mainmenu-area .navbar .user-info-menu-area .left-area .number{
	padding: 0px 5px;
}

		}
	</style>
</head>

<body>
	<!-- preloader area start -->
	 
	<!-- preloader area end -->

	<!-- Header Area Start  -->
	<header class="header">
		<div class="overlay"></div>
		<!--Main-Menu Area Start-->
		<div class="mainmenu-area">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">                 
						<nav class="navbar navbar-expand-lg navbar-light">
							<a class="navbar-brand" href="index.html">
								<img src="assets/images/logo.png" alt="">
							</a>
							<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_menu" aria-controls="main_menu"
								aria-expanded="false" aria-label="Toggle navigation">
								<span class="navbar-toggler-icon"></span>
							</button>
							<div class="collapse navbar-collapse fixed-height" id="main_menu">
								<ul class="navbar-nav ml-auto">
									</li>
									<li class="nav-item">
										<a class="nav-link" href="index.html">HOME</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="mint.html">MARKET</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="exchange.html">EXCHANGE</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="account.html">MY ACCOUNT</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="inviter.html">INVITE</a>
									</li>
								</ul>
								<div class="user-info-menu-area pc1" id="select-address1">
									<div class="left-area">
										<div class="number">
										  <img src="assets/images/crypto/i1.png" alt="">	<p><span id="userBnb">0.00</span> <span>BNB</span></p>
										</div>
										<ul class="dp-links">
											<li>
												<a href="#"><img src="assets/images/crypto/i2.png" alt="">	<p><b id="userToken">0.00</b> <span>CRT</span></p></a>
											</li>
											<li>
												<a href="#"><img src="assets/images/crypto/i3.png" alt="">	<p><b>0.00</b> <span>FOOD</span></p></a>
											</li>
										</ul>
									</div>
									<div class="right-area">
										<div class="icon">
											<img src="assets/images/menu-user.png" alt="">
											</div>
										</div>
									</div>
								</div>
								<div class="user-info-menu-area ph1" id="select-address">
									<div class="left-area">
										<div class="number">
										  <img src="assets/images/crypto/i1.png" alt="">	<p><span id="userBnb1">0.00</span> <span>BNB</span></p>
										</div>
										<ul class="dp-links">
											<li>
												<a href="#"><img src="assets/images/crypto/i2.png" alt="">	<p><b id="userToken1">0.00</b> <span>CRT</span></p></a>
											</li>
											<li>
												<a href="#"><img src="assets/images/crypto/i3.png" alt="">	<p><b>0.00</b> <span>FOOD</span></p></a>
											</li>
										</ul>
									</div>
									<div class="right-area">
										<div class="icon">
											<img src="assets/images/menu-user.png" alt="">
											</div>
										</div>
									</div>
								</li>
							</ul>
							</div>
						</nav>
					</div>
				</div>
			</div>
		</div>
		<!--Main-Menu Area Start-->
	</header>
	<!-- Header Area End  -->

	<!-- Breadcrumb Area Start -->
	 <section class="breadcrumb-area gamer-profile">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<div class="bc-content">
						<div class="left">
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Breadcrumb Area End -->

	<!-- Gamer Profile area Start -->
	<section class="gamer-profile-top">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="gamer-profile-top-inner">
						<div class="profile-photo">
							<div class="img">
								<img src="assets/images/gamer/gamer.png" alt="">
							</div>
							<div class="mybadge">
								<img src="assets/images/gamer/badge.png" alt="">
								<span id="vq1">V0</span>
							</div>
						</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Gamer Profile  area End -->

	<!-- User Menu Area Start -->
	<div class="usermenu-section">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="usermenu-inner">
						<div class="left-area">
							<ul>
								<li>
									<a href="#">Affiliate</a>
								</li>
							</ul>
						</div>
						<div class="right-area">
							<a href="account.html" class="mybtn2 active"><i class="far fa-user-circle"></i>My Account</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div> 
	<!-- User Menu Area End -->

	<!-- User Main Content Area Start -->
	<section class="user-main-dashboard">
		<div class="container">
			<div class="row">
				<div class="col-xl-12">
					<main>
						<div class="main-box affiliate-box">
							<div class="header-area">
								<h4>Affiliate Program</h4>
								<p>
									Get a lifetime reward up to 15% for inviting new people!
								</p>
							</div>
							<div class="referral-link-area">
								<div class="row">
									<div class="col-lg-8">
										<div class="left">
											<h4 class="title">MY REFERRAL LINK</h4>
											<div class="aff-code">
												<input type="text" value="" id="linkinput">
												<i class="fas fa-file" onclick="makeLink()"></i>
											</div>
										</div>
									</div>
									<div class="col-lg-4">
										<div class="right">
											<h4 class="title">Share</h4>
											<ul>
												<li>
													<a href="#">
														<i class="fab fa-facebook-f"></i>
													</a>
												</li>
												<li>
													<a href="#">
														<i class="fab fa-twitter"></i>
													</a>
												</li>
												<li>
													<a href="#">
														<i class="fab fa-linkedin-in"></i>
													</a>
												</li>
												<li>
													<a href="#">
														<i class="fab fa-instagram"></i>
													</a>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
							<div class="earning-info-area">
								<div class="s-info">
									<img src="assets/images/user/a1.png" alt="">
									<div class="content">
										<h4 id="sTotal">0.00BNB</h4>
										<p>Umbrella Performance</p>
									</div>
								</div>
								<div class="s-info">
									<img src="assets/images/user/a2.png" alt="">
									<div class="content">
										<h4 id="rTotal">0.00BNB</h4>
										<p>Umbrella Income</p>
									</div>
								</div>
							</div>
							<div class="aff-table">
								<div class="header-area">
									<h4>Referral History</h4>
									<div class="d-pick">
										<input type="date">
									</div>
								</div>
								<div class="table-responsive">
									<table class="table">
									  <thead>
										  <tr>
											  <th>Address</th>
											  <th>Egg Level</th>
											  <th>Umbrella Performance</th>
											  <th>Umbrella Income</th>
										  </tr>
									  </thead>
									  <tbody id="taba2">
										  
									  </tbody>
									</table>
								</div>
								<div class="view-more-area">
									<a href="#">Show More <i class="fas fa-chevron-down"></i></a>
								</div>
							</div>
						</div>
					</main>
				</div>
			</div>
		</div>
	</section>
	<!-- User Main Content Area End -->


	<div class="subscribe-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="subscribe-box">
						<img class="left" src="assets/images/vr.png" alt="">
						<img class="right" src="assets/images/game controler_.png" alt="">
						<div class="row justify-content-center">
							<div class="col-lg-12">
								<div class="heading-area">
										<h5 class="sub-title">
											A community-driven metaverse virtual world
										</h5>
										<h4 class="title">
											Based on BNBCHAIN
										</h4>
										<a href="#" class="mybtn1"  data-toggle="modal">BUY $CRT</a>	
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- How play area  end -->

<!-- Footer Area Start -->
<footer class="footer" id="footer">

	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="flogo">
					<a href="#"><img src="assets/images/footer-ogo.png" alt=""></a>
				</div>
				<div class="social-links">
					<ul>
						<li>
							<a href="https://twitter.com/CroodsWorld">
								<i class="fab fa-twitter"></i>
							</a>
						</li>
						<li>
							<a href="https://t.me/Thecroods_io">
								<i class="fab fa-telegram"></i>
							</a>
						</li>
					</ul>
				</div>
				<div class="footer-menu">
					<ul>
						<li>
							<a href="https://pancakeswap.finance/">
								PancakeSwap
							</a>
						</li>
						<li>
							<a href="https://dexscreener.com/watchlist">
								Dexscreener
							</a>
						</li>
						<li>
							<a href="https://www.pinksale.finance/">
								PinkSale
							</a>
						</li>
						<li>
							<a href="https://tofunft.com/">
								tofuNFT
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div class="copy-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
						<p>Copyright © 2021.All Rights Reserved By Thecroods</p>
				</div>
			</div>
		</div>
	</div>
</footer> 
<!-- Footer Area End -->

<!-- Back to Top Start -->
<div class="bottomtotop">
	<i class="fas fa-chevron-right"></i>
</div>
<!-- Back to Top End -->


<!-- User Message Modal Start-->

<!-- User Message Modal End-->

<!-- User Notification Modal Start-->

<!-- User Notification Modal End-->

<!-- SignIn Area Start -->

<!-- SignIn Area End -->

<!-- jquery -->
<script src="assets/js/jquery.js"></script>
<!-- popper -->
<script src="assets/js/popper.min.js"></script>
<!-- bootstrap -->
<script src="assets/js/bootstrap.min.js"></script>
<!-- plugin js-->
<script src="assets/js/plugin.js"></script>

<!-- MpusemoverParallax JS-->
<script src="assets/js/TweenMax.js"></script>
<script src="assets/js/mousemoveparallax.js"></script>
<!-- main -->
<script src="assets/js/main.js"></script>
<script src="assets/js/my.js"></script>
</body>
<script>
	window.onload = async function (){
		var isPc = true;
	if($('#'+"select-address").css("display") == "none"){
		await initWallet("select-address1",false)
		var currentProvider = new Web3.providers.HttpProvider('https://goerli.infura.io/v3/145acbee350d44709d5e64f496e0e954');
		// https://kovan.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161
		//https://bsc-dataseed1.binance.org
		let web3Provider = new ethers.providers.Web3Provider(currentProvider);
		var bnbAmount = await web3Provider.getBalance(privateAddress);
		var userBnb = $('#userBnb');
		var num = (bnbAmount.div(ethers.utils.bigNumberify("10000000000000000")).toNumber() / 100).toFixed(2);
		userBnb[0].innerHTML = num;
		isPc = true;
	}else{
		await initWallet("select-address",false)
		var currentProvider = new Web3.providers.HttpProvider('https://goerli.infura.io/v3/145acbee350d44709d5e64f496e0e954');
		// https://kovan.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161
		//https://bsc-dataseed1.binance.org
		let web3Provider = new ethers.providers.Web3Provider(currentProvider);
		var bnbAmount = await web3Provider.getBalance(privateAddress);
		var userBnb = $('#userBnb1');
		var num = (bnbAmount.div(ethers.utils.bigNumberify("10000000000000000")).toNumber() / 100).toFixed(2);
		userBnb[0].innerHTML = num;
		isPc = false;
	} 

	var mulAbi = [
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "to",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                }
            ],
            "name": "getAmountBNB",
            "outputs": [],
            "stateMutability": "payable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "getBNB",
            "outputs": [],
            "stateMutability": "payable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "nft",
                    "type": "address"
                },
                {
                    "internalType": "address",
                    "name": "_thecroodsIdo",
                    "type": "address"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "constructor"
        },
        {
            "stateMutability": "payable",
            "type": "receive"
        },
        {
            "inputs": [],
            "name": "dev_address",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "adr",
                    "type": "address"
                }
            ],
            "name": "getUserInfoIdo",
            "outputs": [
                {
                    "internalType": "uint256[]",
                    "name": "",
                    "type": "uint256[]"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "adr",
                    "type": "address"
                }
            ],
            "name": "getUserInfoInvter",
            "outputs": [
                {
                    "internalType": "uint256[]",
                    "name": "",
                    "type": "uint256[]"
                },
                {
                    "components": [
                        {
                            "internalType": "address",
                            "name": "userAdr",
                            "type": "address"
                        },
                        {
                            "internalType": "uint256",
                            "name": "userLevel",
                            "type": "uint256"
                        },
                        {
                            "internalType": "uint256",
                            "name": "userManyList",
                            "type": "uint256"
                        },
                        {
                            "internalType": "uint256",
                            "name": "userRewardList",
                            "type": "uint256"
                        }
                    ],
                    "internalType": "struct ThecroodsIdoMuticall.oneUserRecord[]",
                    "name": "",
                    "type": "tuple[]"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "Nft",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "thecroodsIdo",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "Token",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        }
    ]

     let contract1 = new ethers.Contract("0x104a1eB32B4a0Bb2E89511AfB12e3ca78AF8439b", mulAbi, walletWithProvider);
	 var list = await contract1.getUserInfoInvter(privateAddress);
	 console.log(list);
	 var bools = list[0][0].toString();
	 if(bools == "1"){
		var inputPrivatekeyNew = $('#linkinput');
       inputPrivatekeyNew[0].value = "https://thecroods.io/mint.html#"+privateAddress;
	 }

	
	 var sTotal = (list[0][1].div(ethers.utils.bigNumberify("10000000000000000")).toNumber() / 100).toFixed(3);
	 var rTotal = (list[0][2].div(ethers.utils.bigNumberify("10000000000000000")).toNumber() / 100).toFixed(3);
	 $('#sTotal')[0].innerHTML = sTotal +"BNB";
	 $('#rTotal')[0].innerHTML = rTotal +"BNB";
	 $("#vq1")[0].innerHTML = "V"+list[0][4].toString();

	 var userList = list[1];

	 $("#taba2").empty();
		for(var i =0;i<userList.length;i++){
			var ew1 = (userList[i].userManyList.div(ethers.utils.bigNumberify("10000000000000000")).toNumber() / 100).toFixed(3);
			var ew2 = (userList[i].userRewardList.div(ethers.utils.bigNumberify("10000000000000000")).toNumber() / 100).toFixed(3);
			$("#taba2").append('<tr><td>'+userList[i].userAdr+'</td><td>'+userList[i].userLevel.toString()+'</td><td>'+ew1+'</td><td>'+ew2+'</td></tr>'); 
		}
		if(isPc){
		var userToken = $('#userToken');
		var numss = (list[0][5].div(ethers.utils.bigNumberify("10000000")).toNumber() / 100).toFixed(2);
		console.log(numss +"1");
		userToken[0].innerHTML = numss;
	}else{
		var userToken = $('#userToken1');
		var numss = (list[0][5].div(ethers.utils.bigNumberify("10000000")).toNumber() / 100).toFixed(2);
		console.log(numss +"2");
		userToken[0].innerHTML = numss;
	}

 }
</script>

</html>
